-- SABER SIMULATOR

-- TOGGLES --
getgenv().autoSwing = false
getgenv().autoSaber = false
getgenv().autoDna = false
getgenv().autoSell = false

-- FUNCTIONS --
function autoSwing()
    spawn(function()
        while getgenv().autoSwing and wait() do
            game:GetService("ReplicatedStorage").Events.Clicked:FireServer()
        end
    end)
end

function autoSaber()
    spawn(function()
        while getgenv().autoSaber and wait() do
            local args = {[1] = "Swords"}
            game:GetService("ReplicatedStorage").Events.BuyAll:FireServer(unpack(args))
            game:GetService("ReplicatedStorage").Events.UpdateData:InvokeServer()
        end
    end)
end

function autoDna()
    spawn(function()
        while getgenv().autoDna and wait() do
            local args = {[1] = "Backpacks"}
            game:GetService("ReplicatedStorage").Events.BuyAll:FireServer(unpack(args))
            game:GetService("ReplicatedStorage").Events.UpdateData:InvokeServer()            
        end
    end)
end

function autoSell()
	spawn(function()
		while getgenv().autoSell and wait(1) do
			game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(532.799988, 200.845337, 151.485992, 1, -1.6267625e-09, 1.61861965e-14, 1.6267625e-09, 1, -1.38499487e-08, -1.61636655e-14, 1.38499487e-08, 1)
		end
	end)
end

-- LIBRARY --
local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()

-- WINDOW --
local Window = Rayfield:CreateWindow({
	Name = "Vitality X 1.0 üçÇ",
	LoadingTitle = "Vitality X For Saber Simulator",
	LoadingSubtitle = "By Vitlaity",
	ConfigurationSaving = {
		Enabled = true,
		FolderName = "Rayfield Interface Suite",
		FileName = "Big Hub"
	},
	KeySystem = true,
	KeySettings = {
		Title = "Vitality X",
		Subtitle = "Key System",
		Note = "Script made by vitality#0001",
		SaveKey = false,
		Key = "vital"
	}
})

-- TABS --
local Main = Window:CreateTab("Main", 4483362458)
local Player = Window:CreateTab("Player", 4483362458)
local Changelog = Window:CreateTab("Changelog", 4483362458)

-- AUTOBUY --
local AutoBuySection = Main:CreateSection("Auto Buy")

local Toggle = Main:CreateToggle({
	Name = "Auto Buy Saber",
	CurrentValue = false,
	Flag = "Toggle1", 
	Callback = function(state)
		getgenv().autoSaber = state
        if state then
            autoSaber();
        end
	end,
})

local Toggle = Main:CreateToggle({
	Name = "Auto Buy Dna",
	CurrentValue = false,
	Flag = "Toggle1", 
	Callback = function(state)
		getgenv().autoDna = state
        if state then
            autoDna();
        end
	end,
})

-- AUTOFARM -- 
local AutoFarmSection = Main:CreateSection("Auto Farm")

local Toggle = Main:CreateToggle({
	Name = "Auto Swing",
	CurrentValue = false,
	Flag = "Toggle1", 
	Callback = function(state)
		getgenv().autoSwing = state
        if state then
            autoSwing();
        end
	end,
})

local Toggle = Main:CreateToggle({
	Name = "Auto Sell",
	CurrentValue = false,
	Flag = "Toggle1", 
	Callback = function(state)
		getgenv().autoSell = state
		if state then
			autoSell();
		end
	end,
})

local Button = Main:CreateButton({
	Name = "Collect All Coin",
	Callback = function()
		for i,v in pairs(game:GetService("Workspace").CoinsHolder:GetChildren()) do
			if v.Name == "Coin" then
				game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
				wait(0.3)
			end
		end
	end,
})

local Button = Main:CreateButton({
	Name = "Collect All Candy",
	Callback = function()
		for i,v in pairs(game:GetService("Workspace").CandyHolder:GetChildren()) do
			if v.Name == "Candy" then
				game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
				wait(0.3)
			end
		end
	end,
})

-- MISC --
local MiscSection = Main:CreateSection("Misc")

local Button = Main:CreateButton({
	Name = "Infinite Double Jumps",
	Callback = function()
		while true do
			game:GetService("Players")["LocalPlayer"].PlayerScripts["Double Jump"].MaxJumps.Value = 1000
			wait(10)
		end
	end,
})

local Button = Main:CreateButton({
	Name = "Collect Daily Reward",
	Callback = function()
		for i,v in pairs(game:GetService("Workspace").DailyReward.Location:GetChildren()) do
			if v:IsA("TouchTransmitter") then
				firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v.Parent, 0)
				wait()
				firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v.Parent, 1)
			end
		end		
	end,
})

-- OPEN MENUS --
local OpenSection = Main:CreateSection("Open Menu")

local Button = Main:CreateButton({
	Name = "Open Teleport Menu",
	Callback = function()
		for i,v in pairs(game:GetService("Workspace").Locations.MainPortal.TP1:GetChildren()) do
			if v:IsA("TouchTransmitter") then
				firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v.Parent, 0)
				wait()
				firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v.Parent, 1)
			end
		end
	end,
})

-- DESTROY GUI --
local MiscSection = Main:CreateSection("Gui")

local Button = Main:CreateButton({
	Name = "Destroy Gui",
	Callback = function()
		Rayfield:Destroy()
	end,
})

-- PLAYER --
local ModsSection = Player:CreateSection("Mods")

local Walkspeed = Player:CreateSlider({
	Name = "WalkSpeed (Buggy)",
	Range = {16, 300},
	Increment = 5,
	Suffix = "Speed",
	CurrentValue = 16,
	Flag = "Slider1",
	Callback = function(Value)
		while true do
			game.Players.LocalPlayer.Character:WaitForChild("Humanoid").WalkSpeed = Value
			wait()
		end
	end,
})

local Jumppower = Player:CreateSlider({
	Name = "JumpPower (Buggy)",
	Range = {50, 300},
	Increment = 5,
	Suffix = "Power",
	CurrentValue = 50,
	Flag = "Slider1",
	Callback = function(Value)
		while true do
			game.Players.LocalPlayer.Character:WaitForChild("Humanoid").JumpPower = Value
			wait()
		end
	end,
})

-- CHANGELOG --
local Update1 = Changelog:CreateSection("November 3, 2022")
local Update1Text = Changelog:CreateLabel("// RELEASE //")
